{% extends 'adminbase.html' %}
{% load static %} 
{% block title %}Course Details{% endblock %}
{% block content %}

    <div id="loader" class="d-none" >
        <div class="loader"></div>
    </div>
    <div style="background-color: black;">
        <h3 style="color: white;padding: 13px;">Course Details</h3>
    </div>

    <div class="row">
        <div class="col-sm-4 col-12 mt-2 mt-sm-0">
            <div class="input-group">
                <input type="text" id="filterDataAdmin" class="form-control" placeholder="Search">
                <div class="input-group-append" style = "margin-left:5px">
                    <button class="btn btn-primary" id="searchData">
                        <i class="fa fa-search" aria-hidden="true"></i> Search
                    </button>
                </div>
            </div>
        </div>
        
        <div class="col-sm-5 col-12 mt-2 mt-sm-0">
            <div class="row">
                <div class="col-md-6">
                    <select class="form-control" id="boardFilterDropdownAdmin">
                        <option value="">Select Board</option>
                        <option value="all">All Board</option>
                        {% for board in get_all_board %}
                            <option value="{{ board.id }}">{{ board.board_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-6">
                    <select class="form-control" id="subjectFilterDropdownAdmin">
                        <option value="">Select Subject</option>
                        <option value="all">All Subject</option>
                        {% for subject in get_all_subject %}
                            <option value="{{ subject.id }}">{{ subject.subject_name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        
        <div class="col-sm-3 col-12 text-right mt-2 mt-sm-0">
            {% if user.is_authenticated %}
                <a href="/admin/cms/course/add/" class="btn btn-success">
                    <i class="fa fa-plus" aria-hidden="true"></i> Add Course
                </a>
                <form action='/logout/' method="post" class="d-inline float-right">
                    {% csrf_token %}
                    <a href="/logout/" class="btn btn-danger">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </form>
            {% endif %}
        </div>
    </div>


    <table class="table table-striped mt-4">
        <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Board</th>
              <th scope="col">Subject</th>
              <th scope="col">Gread</th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td> {{ courses.start_index|default:0|add:forloop.counter0 }}</td>
                <td> {{ course.board.board_name }}</td>
                <td> {{ course.subject.subject_name }}</td>
                <td> {{ course.grade }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {% include 'paginationNavBar.html' %}
    <script>
        var selected_board = {{selected_board}}
    </script>
    <script src="{% static 'cms/admin/js/course_view_admin.js' %}"></script>
    
{% endblock %}